"use strict";

var tap = require("tap");
var request = require("request");

require("../init");

tap.test("Search", function (t) {
    var url = "http://localhost:3000/artworks/search";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("By Type", function (t) {
    var url = "http://localhost:3000/artworks/type/painting";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("By Type Missing", function (t) {
    var url = "http://localhost:3000/artworks/type/foo";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 404);
        t.end();
    });
});

tap.test("By Source", function (t) {
    var url = "http://localhost:3000/artworks/source/test";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("By Source Missing", function (t) {
    var url = "http://localhost:3000/artworks/source/foo";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 404);
        t.end();
    });
});

tap.test("Record", function (t) {
    var url = "http://localhost:3000/artworks/test/1234";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Record (Similar Images)", function (t) {
    var url = "http://localhost:3000/artworks/test/1235";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Record Compare", function (t) {
    var url = "http://localhost:3000/artworks/test/1235?compare";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Record Missing", function (t) {
    var url = "http://localhost:3000/artworks/test/foo";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 404);
        t.end();
    });
});

tap.test("Search: Filter", function (t) {
    var url = "http://localhost:3000/artworks/search?filter=test";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Location", function (t) {
    var url = "http://localhost:3000/artworks/search?location=test";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Artist", function (t) {
    var url = "http://localhost:3000/artworks/search?artist=test";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Date", function (t) {
    var url = "http://localhost:3000/artworks/search?dateStart=1500&dateEnd=1599";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Date (Start Only)", function (t) {
    var url = "http://localhost:3000/artworks/search?dateStart=1500";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Date (End Only)", function (t) {
    var url = "http://localhost:3000/artworks/search?dateEnd=1599";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Width", function (t) {
    var url = "http://localhost:3000/artworks/search?widthMin=0&widthMax=99";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Height", function (t) {
    var url = "http://localhost:3000/artworks/search?heightMin=0&heightMax=99";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Similar (Any)", function (t) {
    var url = "http://localhost:3000/artworks/search?similar=any";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Similar (Internal)", function (t) {
    var url = "http://localhost:3000/artworks/search?similar=internal";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Similar (External)", function (t) {
    var url = "http://localhost:3000/artworks/search?similar=external";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Multiple", function (t) {
    var url = "http://localhost:3000/artworks/search?filter=test&location=test";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.end();
    });
});

tap.test("Search: Defaults", function (t) {
    var url = "http://localhost:3000/artworks/search?filter=test&location=";
    request.get(url, function (err, res) {
        t.error(err, "Error should be empty.");
        t.equal(res.statusCode, 200);
        t.equal(res.request.uri.href, "http://localhost:3000/artworks/search?filter=test");
        t.end();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXN0cy9sb2dpYy9yZWNvcmRzLmpzIl0sIm5hbWVzIjpbInRhcCIsInJlcXVpcmUiLCJyZXF1ZXN0IiwidGVzdCIsInQiLCJ1cmwiLCJnZXQiLCJlcnIiLCJyZXMiLCJlcnJvciIsImVxdWFsIiwic3RhdHVzQ29kZSIsImVuZCIsInVyaSIsImhyZWYiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsTUFBTUMsUUFBUSxLQUFSLENBQVo7QUFDQSxJQUFNQyxVQUFVRCxRQUFRLFNBQVIsQ0FBaEI7O0FBRUFBLFFBQVEsU0FBUjs7QUFFQUQsSUFBSUcsSUFBSixDQUFTLFFBQVQsRUFBbUIsVUFBQ0MsQ0FBRCxFQUFPO0FBQ3RCLFFBQU1DLE1BQU0sdUNBQVo7QUFDQUgsWUFBUUksR0FBUixDQUFZRCxHQUFaLEVBQWlCLFVBQUNFLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQzNCSixVQUFFSyxLQUFGLENBQVFGLEdBQVIsRUFBYSx3QkFBYjtBQUNBSCxVQUFFTSxLQUFGLENBQVFGLElBQUlHLFVBQVosRUFBd0IsR0FBeEI7QUFDQVAsVUFBRVEsR0FBRjtBQUNILEtBSkQ7QUFLSCxDQVBEOztBQVNBWixJQUFJRyxJQUFKLENBQVMsU0FBVCxFQUFvQixVQUFDQyxDQUFELEVBQU87QUFDdkIsUUFBTUMsTUFBTSw4Q0FBWjtBQUNBSCxZQUFRSSxHQUFSLENBQVlELEdBQVosRUFBaUIsVUFBQ0UsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDM0JKLFVBQUVLLEtBQUYsQ0FBUUYsR0FBUixFQUFhLHdCQUFiO0FBQ0FILFVBQUVNLEtBQUYsQ0FBUUYsSUFBSUcsVUFBWixFQUF3QixHQUF4QjtBQUNBUCxVQUFFUSxHQUFGO0FBQ0gsS0FKRDtBQUtILENBUEQ7O0FBU0FaLElBQUlHLElBQUosQ0FBUyxpQkFBVCxFQUE0QixVQUFDQyxDQUFELEVBQU87QUFDL0IsUUFBTUMsTUFBTSx5Q0FBWjtBQUNBSCxZQUFRSSxHQUFSLENBQVlELEdBQVosRUFBaUIs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LFVBQUVRLEdBQUY7QUFDSCxLQUpEO0FBS0gsQ0FQRDs7QUFTQVosSUFBSUcsSUFBSixDQUFTLGtCQUFULEVBQTZCLFVBQUNDLENBQUQsRUFBTztBQUNoQyxRQUFNQyxNQUFNLGlFQUFaO0FBQ0FILFlBQVFJLEdBQVIsQ0FBWUQsR0FBWixFQUFpQixVQUFDRSxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUMzQkosVUFBRUssS0FBRixDQUFRRixHQUFSLEVBQWEsd0JBQWI7QUFDQUgsVUFBRU0sS0FBRixDQUFRRixJQUFJRyxVQUFaLEVBQXdCLEdBQXhCO0FBQ0FQLFVBQUVRLEdBQUY7QUFDSCxLQUpEO0FBS0gsQ0FQRDs7QUFTQVosSUFBSUcsSUFBSixDQUFTLGtCQUFULEVBQTZCLFVBQUNDLENBQUQsRUFBTztBQUNoQyxRQUFNQyxNQUFNLDZEQUFaO0FBQ0FILFlBQVFJLEdBQVIsQ0FBWUQsR0FBWixFQUFpQixVQUFDRSxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUMzQkosVUFBRUssS0FBRixDQUFRRixHQUFSLEVBQWEsd0JBQWI7QUFDQUgsVUFBRU0sS0FBRixDQUFRRixJQUFJRyxVQUFaLEVBQXdCLEdBQXhCO0FBQ0FQLFVBQUVNLEtBQUYsQ0FBUUYsSUFBSU4sT0FBSixDQUFZVyxHQUFaLENBQWdCQyxJQUF4QixFQUNJLG1EQURKO0FBRUFWLFVBQUVRLEdBQUY7QUFDSCxLQU5EO0FBT0gsQ0FURCIsImZpbGUiOiJyZWNvcmRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdGFwID0gcmVxdWlyZShcInRhcFwiKTtcbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKFwicmVxdWVzdFwiKTtcblxucmVxdWlyZShcIi4uL2luaXRcIik7XG5cbnRhcC50ZXN0KFwiU2VhcmNoXCIsICh0KSA9PiB7XG4gICAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0d29ya3Mvc2VhcmNoXCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgMjAwKTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIkJ5IFR5cGVcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy90eXBlL3BhaW50aW5nXCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgMjAwKTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIkJ5IFR5cGUgTWlzc2luZ1wiLCAodCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FydHdvcmtzL3R5cGUvZm9vXCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgNDA0KTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIkJ5IFNvdXJjZVwiLCAodCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FydHdvcmtzL3NvdXJjZS90ZXN0XCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgMjAwKTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIkJ5IFNvdXJjZSBNaXNzaW5nXCIsICh0KSA9PiB7XG4gICAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0d29ya3Mvc291cmNlL2Zvb1wiO1xuICAgIHJlcXVlc3QuZ2V0KHVybCwgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIHQuZXJyb3IoZXJyLCBcIkVycm9yIHNob3VsZCBiZSBlbXB0eS5cIik7XG4gICAgICAgIHQuZXF1YWwocmVzLnN0YXR1c0NvZGUsIDQwNCk7XG4gICAgICAgIHQuZW5kKCk7XG4gICAgfSk7XG59KTtcblxudGFwLnRlc3QoXCJSZWNvcmRcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy90ZXN0LzEyMzRcIjtcbiAgICByZXF1ZXN0LmdldCh1cmwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICB0LmVycm9yKGVyciwgXCJFcnJvciBzaG91bGQgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0LmVxdWFsKHJlcy5zdGF0dXNDb2RlLCAyMDApO1xuICAgICAgICB0LmVuZCgpO1xuICAgIH0pO1xufSk7XG5cbnRhcC50ZXN0KFwiUmVjb3JkIChTaW1pbGFyIEltYWdlcylcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy90ZXN0LzEyMzVcIjtcbiAgICByZXF1ZXN0LmdldCh1cmwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICB0LmVycm9yKGVyciwgXCJFcnJvciBzaG91bGQgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0LmVxdWFsKHJlcy5zdGF0dXNDb2RlLCAyMDApO1xuICAgICAgICB0LmVuZCgpO1xuICAgIH0pO1xufSk7XG5cbnRhcC50ZXN0KFwiUmVjb3JkIENvbXBhcmVcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy90ZXN0LzEyMzU/Y29tcGFyZVwiO1xuICAgIHJlcXVlc3QuZ2V0KHVybCwgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIHQuZXJyb3IoZXJyLCBcIkVycm9yIHNob3VsZCBiZSBlbXB0eS5cIik7XG4gICAgICAgIHQuZXF1YWwocmVzLnN0YXR1c0NvZGUsIDIwMCk7XG4gICAgICAgIHQuZW5kKCk7XG4gICAgfSk7XG59KTtcblxudGFwLnRlc3QoXCJSZWNvcmQgTWlzc2luZ1wiLCAodCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FydHdvcmtzL3Rlc3QvZm9vXCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgNDA0KTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIlNlYXJjaDogRmlsdGVyXCIsICh0KSA9PiB7XG4gICAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0d29ya3Mvc2VhcmNoP2ZpbHRlcj10ZXN0XCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgMjAwKTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIlNlYXJjaDogTG9jYXRpb25cIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy9zZWFyY2g/bG9jYXRpb249dGVzdFwiO1xuICAgIHJlcXVlc3QuZ2V0KHVybCwgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIHQuZXJyb3IoZXJyLCBcIkVycm9yIHNob3VsZCBiZSBlbXB0eS5cIik7XG4gICAgICAgIHQuZXF1YWwocmVzLnN0YXR1c0NvZGUsIDIwMCk7XG4gICAgICAgIHQuZW5kKCk7XG4gICAgfSk7XG59KTtcblxudGFwLnRlc3QoXCJTZWFyY2g6IEFydGlzdFwiLCAodCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FydHdvcmtzL3NlYXJjaD9hcnRpc3Q9dGVzdFwiO1xuICAgIHJlcXVlc3QuZ2V0KHVybCwgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIHQuZXJyb3IoZXJyLCBcIkVycm9yIHNob3VsZCBiZSBlbXB0eS5cIik7XG4gICAgICAgIHQuZXF1YWwocmVzLnN0YXR1c0NvZGUsIDIwMCk7XG4gICAgICAgIHQuZW5kKCk7XG4gICAgfSk7XG59KTtcblxudGFwLnRlc3QoXCJTZWFyY2g6IERhdGVcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy9zZWFyY2g/ZGF0ZVN0YXJ0PTE1MDAmZGF0ZUVuZD0xNTk5XCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgMjAwKTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIlNlYXJjaDogRGF0ZSAoU3RhcnQgT25seSlcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy9zZWFyY2g/ZGF0ZVN0YXJ0PTE1MDBcIjtcbiAgICByZXF1ZXN0LmdldCh1cmwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICB0LmVycm9yKGVyciwgXCJFcnJvciBzaG91bGQgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0LmVxdWFsKHJlcy5zdGF0dXNDb2RlLCAyMDApO1xuICAgICAgICB0LmVuZCgpO1xuICAgIH0pO1xufSk7XG5cbnRhcC50ZXN0KFwiU2VhcmNoOiBEYXRlIChFbmQgT25seSlcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy9zZWFyY2g/ZGF0ZUVuZD0xNTk5XCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgMjAwKTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIlNlYXJjaDogV2lkdGhcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy9zZWFyY2g/d2lkdGhNaW49MCZ3aWR0aE1heD05OVwiO1xuICAgIHJlcXVlc3QuZ2V0KHVybCwgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIHQuZXJyb3IoZXJyLCBcIkVycm9yIHNob3VsZCBiZSBlbXB0eS5cIik7XG4gICAgICAgIHQuZXF1YWwocmVzLnN0YXR1c0NvZGUsIDIwMCk7XG4gICAgICAgIHQuZW5kKCk7XG4gICAgfSk7XG59KTtcblxudGFwLnRlc3QoXCJTZWFyY2g6IEhlaWdodFwiLCAodCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FydHdvcmtzL3NlYXJjaD9oZWlnaHRNaW49MCZoZWlnaHRNYXg9OTlcIjtcbiAgICByZXF1ZXN0LmdldCh1cmwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICB0LmVycm9yKGVyciwgXCJFcnJvciBzaG91bGQgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0LmVxdWFsKHJlcy5zdGF0dXNDb2RlLCAyMDApO1xuICAgICAgICB0LmVuZCgpO1xuICAgIH0pO1xufSk7XG5cbnRhcC50ZXN0KFwiU2VhcmNoOiBTaW1pbGFyIChBbnkpXCIsICh0KSA9PiB7XG4gICAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0d29ya3Mvc2VhcmNoP3NpbWlsYXI9YW55XCI7XG4gICAgcmVxdWVzdC5nZXQodXJsLCAoZXJyLCByZXMpID0+IHtcbiAgICAgICAgdC5lcnJvcihlcnIsIFwiRXJyb3Igc2hvdWxkIGJlIGVtcHR5LlwiKTtcbiAgICAgICAgdC5lcXVhbChyZXMuc3RhdHVzQ29kZSwgMjAwKTtcbiAgICAgICAgdC5lbmQoKTtcbiAgICB9KTtcbn0pO1xuXG50YXAudGVzdChcIlNlYXJjaDogU2ltaWxhciAoSW50ZXJuYWwpXCIsICh0KSA9PiB7XG4gICAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0d29ya3Mvc2VhcmNoP3NpbWlsYXI9aW50ZXJuYWxcIjtcbiAgICByZXF1ZXN0LmdldCh1cmwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICB0LmVycm9yKGVyciwgXCJFcnJvciBzaG91bGQgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0LmVxdWFsKHJlcy5zdGF0dXNDb2RlLCAyMDApO1xuICAgICAgICB0LmVuZCgpO1xuICAgIH0pO1xufSk7XG5cbnRhcC50ZXN0KFwiU2VhcmNoOiBTaW1pbGFyIChFeHRlcm5hbClcIiwgKHQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcnR3b3Jrcy9zZWFyY2g/c2ltaWxhcj1leHRlcm5hbFwiO1xuICAgIHJlcXVlc3QuZ2V0KHVybCwgKGVyciwgcmVzKSA9PiB7XG4gICAgICAgIHQuZXJyb3IoZXJyLCBcIkVycm9yIHNob3VsZCBiZSBlbXB0eS5cIik7XG4gICAgICAgIHQuZXF1YWwocmVzLnN0YXR1c0NvZGUsIDIwMCk7XG4gICAgICAgIHQuZW5kKCk7XG4gICAgfSk7XG59KTtcblxudGFwLnRlc3QoXCJTZWFyY2g6IE11bHRpcGxlXCIsICh0KSA9PiB7XG4gICAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0d29ya3Mvc2VhcmNoP2ZpbHRlcj10ZXN0JmxvY2F0aW9uPXRlc3RcIjtcbiAgICByZXF1ZXN0LmdldCh1cmwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICB0LmVycm9yKGVyciwgXCJFcnJvciBzaG91bGQgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0LmVxdWFsKHJlcy5zdGF0dXNDb2RlLCAyMDApO1xuICAgICAgICB0LmVuZCgpO1xuICAgIH0pO1xufSk7XG5cbnRhcC50ZXN0KFwiU2VhcmNoOiBEZWZhdWx0c1wiLCAodCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FydHdvcmtzL3NlYXJjaD9maWx0ZXI9dGVzdCZsb2NhdGlvbj1cIjtcbiAgICByZXF1ZXN0LmdldCh1cmwsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICB0LmVycm9yKGVyciwgXCJFcnJvciBzaG91bGQgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0LmVxdWFsKHJlcy5zdGF0dXNDb2RlLCAyMDApO1xuICAgICAgICB0LmVxdWFsKHJlcy5yZXF1ZXN0LnVyaS5ocmVmLFxuICAgICAgICAgICAgXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXJ0d29ya3Mvc2VhcmNoP2ZpbHRlcj10ZXN0XCIpO1xuICAgICAgICB0LmVuZCgpO1xuICAgIH0pO1xufSk7XG4iXX0=