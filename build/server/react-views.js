"use strict";

var React = require("react");
var ReactDOMServer = require("react-dom/server");

var Wrapper = require("../views/Wrapper.js");

var engine = function engine(filePath, options, callback) {
    var View = require(filePath);

    var wrapped = React.createElement(
        Wrapper,
        {
            originalUrl: options.originalUrl,
            user: options.user,
            lang: options.lang,
            gettext: options.gettext,
            format: options.format
        },
        React.createElement(View, options)
    );

    var output = ReactDOMServer.renderToStaticMarkup(wrapped);

    callback(null, "<!DOCTYPE html>" + output);
};

module.exports = engine;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXJ2ZXIvcmVhY3Qtdmlld3MuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUmVhY3RET01TZXJ2ZXIiLCJXcmFwcGVyIiwiZW5naW5lIiwiZmlsZVBhdGgiLCJvcHRpb25zIiwiY2FsbGJhY2siLCJWaWV3Iiwid3JhcHBlZCIsIm9yaWdpbmFsVXJsIiwidXNlciIsImxhbmciLCJnZXR0ZXh0IiwiZm9ybWF0Iiwib3V0cHV0IiwicmVuZGVyVG9TdGF0aWNNYXJrdXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLFFBQVFDLFFBQVEsT0FBUixDQUFkO0FBQ0EsSUFBTUMsaUJBQWlCRCxRQUFRLGtCQUFSLENBQXZCOztBQUVBLElBQU1FLFVBQVVGLFFBQVEscUJBQVIsQ0FBaEI7O0FBRUEsSUFBTUcsU0FBUyxTQUFUQSxNQUFTLENBQUNDLFFBQUQsRUFBbUJDLE9BQW5CLEVBQW9DQyxRQUFwQyxFQUEyRDtBQUN0RSxRQUFNQyxPQUFPUCxRQUFRSSxRQUFSLENBQWI7O0FBRUEsUUFBTUksVUFBVTtBQUFDLGVBQUQ7QUFBQTtBQUNaLHlCQUFhSCxRQUFRSSxXQURUO0FBRVosa0JBQU1KLFFBQVFLLElBRkY7QUFHWixrQkFBTUwsUUFBUU0sSUFIRjtBQUlaLHFCQUFTTixRQUFRTyxPQUpMO0FBS1osb0JBQVFQLFFBQVFRO0FBTEo7QUFPWiw0QkFBQyxJQUFELEVBQVVSLE9BQVY7QUFQWSxLQUFoQjs7QUFVQSxRQUFNUyxTQUFTYixlQUFlYyxvQkFBZixDQUFvQ1AsT0FBcEMsQ0FBZjs7QUFFQUYsYUFBUyxJQUFULHNCQUFpQ1EsTUFBakM7QUFDSCxDQWhCRDs7QUFrQkFFLE9BQU9DLE9BQVAsR0FBaUJkLE1BQWpCIiwiZmlsZSI6InJlYWN0LXZpZXdzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBSZWFjdERPTVNlcnZlciA9IHJlcXVpcmUoXCJyZWFjdC1kb20vc2VydmVyXCIpO1xuXG5jb25zdCBXcmFwcGVyID0gcmVxdWlyZShcIi4uL3ZpZXdzL1dyYXBwZXIuanNcIik7XG5cbmNvbnN0IGVuZ2luZSA9IChmaWxlUGF0aDogc3RyaW5nLCBvcHRpb25zOiBPYmplY3QsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xuICAgIGNvbnN0IFZpZXcgPSByZXF1aXJlKGZpbGVQYXRoKTtcblxuICAgIGNvbnN0IHdyYXBwZWQgPSA8V3JhcHBlclxuICAgICAgICBvcmlnaW5hbFVybD17b3B0aW9ucy5vcmlnaW5hbFVybH1cbiAgICAgICAgdXNlcj17b3B0aW9ucy51c2VyfVxuICAgICAgICBsYW5nPXtvcHRpb25zLmxhbmd9XG4gICAgICAgIGdldHRleHQ9e29wdGlvbnMuZ2V0dGV4dH1cbiAgICAgICAgZm9ybWF0PXtvcHRpb25zLmZvcm1hdH1cbiAgICA+XG4gICAgICAgIDxWaWV3IHsuLi5vcHRpb25zfSAvPlxuICAgIDwvV3JhcHBlcj47XG5cbiAgICBjb25zdCBvdXRwdXQgPSBSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0YXRpY01hcmt1cCh3cmFwcGVkKTtcblxuICAgIGNhbGxiYWNrKG51bGwsIGA8IURPQ1RZUEUgaHRtbD4ke291dHB1dH1gKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW5naW5lO1xuIl19